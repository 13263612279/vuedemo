(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c26e3594"],{"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"20d6":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(6),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(a)},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),i=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},"2d57":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-sticky",[n("van-nav-bar",{staticClass:"bg-gray",attrs:{title:t.title,"left-text":"","left-arrow":""},on:{"click-left":t.onClickLeft}})],1)},i=[],a={props:{title:{type:String,default:"创建目标任务"}},data:function(){return{}},methods:{onClickLeft:function(){this.$router.go(-1)}}},s=a,o=(n("b0d2"),n("2877")),c=Object(o["a"])(s,r,i,!1,null,"3476faec",null);e["a"]=c.exports},"549b":function(t,e,n){"use strict";var r=n("d864"),i=n("63b6"),a=n("241e"),s=n("b0dc"),o=n("3702"),c=n("b447"),f=n("20fd"),l=n("7cd6");i(i.S+i.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,u,d=a(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,b=0,y=l(d);if(g&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&o(y))for(e=c(d.length),n=new h(e);e>b;b++)f(n,b,g?v(d[b],b):d[b]);else for(u=y.call(d),n=new h;!(i=u.next()).done;b++)f(n,b,g?s(u,v,[i.value,b],!0):i.value);return n.length=b,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"774e":function(t,e,n){t.exports=n("d2d5")},"79c0":function(t,e,n){},"7c64":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg"},[n("div",[n("van-sticky",[n("van-nav-bar",{staticClass:"bg-gray",attrs:{title:"消息中心","left-text":"","left-arrow":""},on:{"click-left":t.onClickLeft}})],1)],1),n("div",{staticClass:"list-wrapper"},[n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,r){return n("div",{key:r},[t.showHistory(r)?n("van-divider",{style:{color:"#bbb",borderColor:"#ccc",padding:"0 20px"}},[t._v("历史消息")]):t._e(),n("div",{staticClass:"card-wrapper"},[n("div",{staticClass:"news",class:{hide:1===e.readState}}),n("div",{staticClass:"card-con",class:{"font-gray":1===e.readState}},[t._v(t._s(e.nr))]),n("div",{staticClass:"card-title van-hairline--top"},[n("ul",{staticClass:"clearfix",class:{"font-gray":1===e.readState}},[n("li",{staticClass:"li-left"},[t._v("创建时间")]),n("li",{staticClass:"li-right text-ellphsis"},[t._v(t._s(e.createtime))])])])])],1)})),0)],1)],1)])},i=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("a745")),s=n.n(a);function o(t){if(s()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var c=n("774e"),f=n.n(c),l=n("c8bb"),u=n.n(l);function d(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return f()(t)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){return o(t)||d(t)||h()}n("20d6");var v=n("bd86"),g=n("2f62"),b=n("2d57");function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(n,!0).forEach((function(e){Object(v["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={name:"news",components:{HeaderSimple:b["a"]},data:function(){return{list:[],show:!1,loading:!1,finished:!1,refreshing:!1,total:0,pageNum:1,pageSize:4}},computed:m({},Object(g["b"])(["userInfo"])),created:function(){this.getList()},methods:{onClickLeft:function(){var t=this;this.$serve({url:"/mobile/message/updateState",method:"post",data:{userId:this.userInfo.userId}}).then((function(e){t.$store.dispatch("role/setRoutes").then((function(e){t.$router.push("/home",(function(){}),(function(){}))})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},showHistory:function(t){return this.list.findIndex((function(t){return 1===t.readState}))===t},getList:function(){var t=this;this.$serve({url:"/mobile/message/getList",method:"post",data:{userId:this.userInfo.userId,pageIndex:this.pageNum,pageSize:this.pageSize}}).then((function(e){var n;t.refreshing&&(t.list=[],t.refreshing=!1),0===e.message.length&&(t.list=[],t.finished=!0,t.loading=!1),t.total=e.datasize,(n=t.list).push.apply(n,p(e.message)),t.loading=!1,t.list.length>=e.datasize&&(t.finished=!0)})).catch((function(t){console.log(t)}))},onLoad:function(){var t=this,e=setTimeout((function(){t.pageNum++,t.getList(),t.finished&&clearTimeout(e)}),1e3)},onRefresh:function(){this.finished=!1,this.loading=!0,this.pageNum=0,this.onLoad()}}},x=w,O=(n("f4ad"),n("2877")),j=Object(O["a"])(x,r,i,!1,null,"4ead5e94",null);e["default"]=j.exports},9003:function(t,e,n){var r=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"95d5":function(t,e,n){var r=n("40c3"),i=n("5168")("iterator"),a=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(r(e))}},a745:function(t,e,n){t.exports=n("f410")},b0d2:function(t,e,n){"use strict";var r=n("febf"),i=n.n(r);i.a},c8bb:function(t,e,n){t.exports=n("54a1")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f4ad:function(t,e,n){"use strict";var r=n("79c0"),i=n.n(r);i.a},febf:function(t,e,n){}}]);