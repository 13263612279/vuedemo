(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31c3eb9d"],{"27ef":function(t,n,e){},"28a5":function(t,n,e){"use strict";var i=e("aae3"),o=e("cb7c"),s=e("ebd6"),a=e("0390"),r=e("9def"),l=e("5f1b"),c=e("520a"),u=e("79e5"),d=Math.min,g=[].push,h="split",f="length",p="lastIndex",v=4294967295,m=!u((function(){RegExp(v,"y")}));e("214f")("split",2,(function(t,n,e,u){var w;return w="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[f]||2!="ab"[h](/(?:ab)*/)[f]||4!="."[h](/(.?)(.?)/)[f]||"."[h](/()()/)[f]>1||""[h](/.?/)[f]?function(t,n){var o=String(this);if(void 0===t&&0===n)return[];if(!i(t))return e.call(o,t,n);var s,a,r,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,h=void 0===n?v:n>>>0,m=new RegExp(t.source,u+"g");while(s=c.call(m,o)){if(a=m[p],a>d&&(l.push(o.slice(d,s.index)),s[f]>1&&s.index<o[f]&&g.apply(l,s.slice(1)),r=s[0][f],d=a,l[f]>=h))break;m[p]===s.index&&m[p]++}return d===o[f]?!r&&m.test("")||l.push(""):l.push(o.slice(d)),l[f]>h?l.slice(0,h):l}:"0"[h](void 0,0)[f]?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,i){var o=t(this),s=void 0==e?void 0:e[n];return void 0!==s?s.call(e,o,i):w.call(String(o),e,i)},function(t,n){var i=u(w,t,this,n,w!==e);if(i.done)return i.value;var c=o(t),g=String(this),h=s(c,RegExp),f=c.unicode,p=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(m?"y":"g"),b=new h(m?c:"^(?:"+c.source+")",p),y=void 0===n?v:n>>>0;if(0===y)return[];if(0===g.length)return null===l(b,g)?[g]:[];var x=0,C=0,F=[];while(C<g.length){b.lastIndex=m?C:0;var _,k=l(b,m?g:g.slice(C));if(null===k||(_=d(r(b.lastIndex+(m?0:C)),g.length))===x)C=a(g,C,f);else{if(F.push(g.slice(x,C)),F.length===y)return F;for(var $=1;$<=k.length-1;$++)if(F.push(k[$]),F.length===y)return F;C=x=_}}return F.push(g.slice(x)),F}]}))},"28fd":function(t,n,e){t.exports=e.p+"static/img/login-logo.a32cf03b.png"},"2c86":function(t,n,e){},"326c":function(t,n,e){"use strict";var i=e("2c86"),o=e.n(i);o.a},9616:function(t,n,e){"use strict";var i=e("27ef"),o=e.n(i);o.a},"9ed6":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login-container"},[e("Loading",{attrs:{show:t.loading}}),e("div",{staticClass:"shadow"}),e("div",{staticClass:"form-wrapper"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:t.logoUrl}})]),e("van-form",{staticClass:"form-content",on:{submit:t.handleLogin},model:{value:t.loginForm,callback:function(n){t.loginForm=n},expression:"loginForm"}},[e("div",{staticClass:"title-container"},[e("h3",{staticClass:"title van-ellipsis"},[t._v(t._s(t.title))])]),e("van-field",{attrs:{name:"validator",placeholder:"请输入用户名",clearable:"",maxlength:"20",rules:t.usernameRules},model:{value:t.loginForm.username,callback:function(n){t.$set(t.loginForm,"username",n)},expression:"loginForm.username"}}),e("van-field",{attrs:{type:"password",name:"密码",placeholder:"请输入密码",clearable:"",maxlength:"20","show-error":!1,rules:t.passwordRules},model:{value:t.loginForm.password,callback:function(n){t.$set(t.loginForm,"password",n)},expression:"loginForm.password"}}),e("div",{staticClass:"btn-wrapper"},[e("van-button",{staticClass:"login-btn",class:{"default-color":t.loginForm.username.length>=1&&t.loginForm.password.length>=6},attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("登录")])],1)],1)],1),e("div",{staticClass:"copyRight"},[e("span",{staticClass:"copyright-title van-ellipsis"},[t._v(t._s(t.copyright))]),e("div",{staticClass:"version-no mt6 van-ellipsis"},[t._v(t._s(t.versionNo))])])],1)},o=[],s=(e("28a5"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("van-overlay",{attrs:{show:t.show},on:{click:function(n){t.show=!1}}},[e("div",{staticClass:"loading-wrapper",on:{click:function(t){t.stopPropagation()}}},[e("van-loading",{attrs:{type:"spinner"}})],1)])],1)}),a=[],r={props:{show:{type:Boolean,default:!1}},data:function(){return{}}},l=r,c=(e("326c"),e("2877")),u=Object(c["a"])(l,s,a,!1,null,"de753c24",null),d=u.exports,g={name:"Login",components:{Loading:d},data:function(){var t=function(t){return t.length>=6};return{title:"信息化质量管理平台",logoUrl:e("28fd"),copyright:"",versionNo:"",loading:!1,loginForm:{username:"",password:""},usernameRules:[{required:!0,message:"用户名必填，请输入用户名"}],passwordRules:[{required:!0,message:"密码必填，请输入密码"},{validator:t,message:"密码不能少于六位字符"}],redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},methods:{getConfigInfo:function(){var t=this;this.$serve({url:"/mobile/login/systemInfo",method:"post"}).then((function(n){var e=n.copyright,i=n.logo_image,o=n.system_name,s=n.version;t.logoUrl=globalServer.baseUrl+"".concat(i),t.title=o,t.copyright=e,t.versionNo=s})).catch((function(t){console.log(t)}))},handleLogin:function(){var t=this;this.loading=!0,this.$store.dispatch("role/login",this.loginForm).then((function(){t.$router.push({path:"/home"},(function(){}),(function(){})),t.loading=!1})).catch((function(){t.loading=!1}))},autoLogin:function(t){var n=this;this.$store.dispatch("role/autoLogin",t).then((function(){n.loading=!1,n.$router.push({path:"/home"})})).catch((function(t){n.$Toast.fail(t.msg),n.loading=!1}))},getQueryVariable:function(t){for(var n=window.location.href.split("?")[1],e=n.split("&"),i=0;i<e.length;i++){var o=e[i].split("=");if(o[0]==t)return o[1]}return!1}},created:function(){this.getConfigInfo()}},h=g,f=(e("9616"),Object(c["a"])(h,i,o,!1,null,"04128422",null));n["default"]=f.exports}}]);