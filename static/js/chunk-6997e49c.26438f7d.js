(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6997e49c"],{"2d55":function(t,e,o){},"2d57":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-sticky",[o("van-nav-bar",{staticClass:"bg-gray",attrs:{title:t.title,"left-text":"","left-arrow":""},on:{"click-left":t.onClickLeft}})],1)},r=[],i={props:{title:{type:String,default:"创建目标任务"}},data:function(){return{}},methods:{onClickLeft:function(){this.$router.go(-1)}}},s=i,c=(o("b0d2"),o("2877")),l=Object(c["a"])(s,n,r,!1,null,"3476faec",null);e["a"]=l.exports},"7a8c":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"bg"},[o("HeaderSimple",{attrs:{title:t.title}}),o("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:t.columns,"value-key":"roleName",title:"切换角色","default-index":t.defaultIndex},on:{cancel:function(e){t.showPicker=!1},confirm:t.onConfirm}})],1),o("div",{staticClass:"m-top-fixed mb40"},[o("div",{staticClass:"card-item"},[o("ul",{staticClass:"item-ul clearfix",on:{click:function(e){t.showPicker=!0}}},[o("li",{staticClass:"item-name van-ellipsis"},[t._v("个人中心")]),o("li",{staticClass:"item-num"},[o("van-field",{staticStyle:{"text-align":"right"},attrs:{readonly:"",clickable:"",value:t.currentRole}})],1),t._m(0)])]),o("div",{staticClass:"card-item"},[o("router-link",{attrs:{to:"/editPassword"}},[o("ul",{staticClass:"item-ul clearfix"},[o("li",{staticClass:"item-name van-ellipsis"},[t._v("修改密码")]),o("li",{staticClass:"item-num"}),o("li",{staticClass:"item-arrow"},[o("i",{staticClass:"icon iconfont icon-arrowright"})])])])],1)]),o("van-button",{staticClass:"bottom-btn",attrs:{round:"",block:"",type:"warning"},on:{click:t.logout}},[t._v("退出登录")])],1)])},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"item-arrow"},[o("i",{staticClass:"icon iconfont icon-arrowright"})])}],i=(o("8e6e"),o("ac6a"),o("456d"),o("bd86")),s=o("2d57"),c=o("2f62");function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(o,!0).forEach((function(e){Object(i["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var u={components:{HeaderSimple:s["a"]},data:function(){return{title:"个人中心",currentRole:"",showPicker:!1,columns:[],defaultIndex:0,list:[{title:"切换角色",current:"教务处长"},{title:"修改密码"}],routeData:void 0}},computed:a({},Object(c["b"])(["routes","userInfo"])),mounted:function(){this.getRoles()},methods:{getRoles:function(){var t=this;this.$serve({url:"/mobile/switchRoles/roles",method:"post",data:{userId:this.userInfo.userId}}).then((function(e){t.columns=e.role,t.currentRole=t.userInfo.roleName;for(var o=null,n=0;n<t.columns.length;n++)t.columns[n].roleName===t.currentRole&&(o=n);t.defaultIndex=o})).catch((function(t){console.log(t)}))},onConfirm:function(t){var e=this;if(this.currentRole===t.roleName)this.showPicker=!1;else{this.currentRole=t.roleName;var o=t.roleId;this.showPicker=!1,this.$serve({url:"/mobile/switchRoles/setRoleIndex",method:"post",data:{roleId1:o,userId:this.userInfo.userId}}).then((function(t){})).catch((function(t){console.log(t)})),this.$store.dispatch("role/setRoutes").then((function(n){var r=e.userInfo;return r.roleId=o,r.roleName=t.roleName,e.$store.dispatch("role/setUserInfo",r)})).then((function(t){e.$router.push("/home",(function(){}),(function(){}))}))}},logout:function(){var t=this;this.$Dialog.confirm({title:"",message:"是否退出登录",confirmButtonColor:"#fe7e5b",closeOnClickOverlay:!0}).then((function(){t.$store.dispatch("role/logout"),t.$router.push("/login?redirect=".concat(t.$route.fullPath),(function(){}),(function(){}))})).catch((function(){}))}}},f=u,d=(o("89af"),o("2877")),h=Object(d["a"])(f,n,r,!1,null,"a94dd1b6",null);e["default"]=h.exports},"89af":function(t,e,o){"use strict";var n=o("2d55"),r=o.n(n);r.a},b0d2:function(t,e,o){"use strict";var n=o("febf"),r=o.n(n);r.a},febf:function(t,e,o){}}]);